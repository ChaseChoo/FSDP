<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EasyATM â€” Safe Banking for Everyone</title>
  <link rel="stylesheet" href="styles-elderly.css" />
  <meta name="description" content="EasyATM - Safe and simple banking designed for elderly users">
</head>
<body>
<div class="container">
  <!-- Skip link for screen readers -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <header class="header" role="banner">
    <div class="brand">
      <div class="logo" aria-hidden="true"><span>EA</span></div>
      <div class="title">
        <h1>EasyATM</h1>
        <div class="subtitle">Safe Banking Made Simple</div>
      </div>
    </div>
    <div class="safe" role="group" aria-label="Safe Mode Toggle">
      <input id="safemode" type="checkbox" checked aria-describedby="safe-description" />
      <label for="safemode">ğŸ›¡ï¸ Safe Mode</label>
    </div>
  </header>

  <!-- Enhanced Scam Warning Banner -->
  <div class="banner card" role="alert" aria-live="polite">
    <div>âš ï¸</div>
    <div>
      <strong>ğŸš¨ Important Safety Notice:</strong> 
      <div>Never transfer money because someone called you or sent you a message asking for it.</div>
      <div class="tip">
        âœ‹ If someone claims to be from the bank, police, or government asking for money transfers, it's a SCAM. 
        Hang up and call the official number yourself.
      </div>
      <div class="tip">
        ğŸ“ <strong>When in doubt, call:</strong> Bank: 1800-OCBC (6222) | Police: 999 | Anti-Scam Hotline: 1800-722-6688
      </div>
    </div>
  </div>

  <!-- Safe Mode Description -->
  <div id="safe-description" class="sr-only">
    Safe Mode limits your transactions to pre-approved trusted contacts and regular bills for your security.
  </div>

  <main id="main-content" class="card" role="main">
    <h2 style="margin-top:0">ğŸ’° What would you like to do today?</h2>
    
    <!-- Quick Help Section -->
    <div class="card" style="background: #f0f9ff; border-color: #0ea5e9;">
      <h3>ğŸ†˜ Need Help?</h3>
      <div class="actions">
        <button class="btn btn-secondary" onclick="playInstructions()">
          ğŸ”Š Play Instructions
        </button>
        <button class="btn btn-secondary" onclick="callSupport()">
          ğŸ“ Call Support
        </button>
        <button class="btn btn-secondary" onclick="showKeyboardHelp()">
          âŒ¨ï¸ Keyboard Help
        </button>
      </div>
    </div>

    <!-- Main Transaction Options -->
    <div class="row grid">
      <!-- PayNow Section -->
      <div class="card" style="border-color: #28a745; background: #f8fff9;">
        <h3>ğŸ’¸ Send Money (PayNow)</h3>
        <p style="font-size: 18px; line-height: 1.6;">
          Send money to family, friends, or pay for services using their phone number or NRIC.
        </p>
        <div class="summary">
          <strong>ğŸ›¡ï¸ Safety Tip:</strong> Only send money to people you know personally. 
          Never send money to "secure your account" or because someone called you.
        </div>
        <a class="btn btn-primary btn-lg" href="paynow-elderly.html" aria-describedby="paynow-help">
          Continue to PayNow â†’
        </a>
        <div id="paynow-help" class="hint">
          ğŸ’¡ In Safe Mode: You can only send money to your trusted contacts
        </div>
      </div>

      <!-- Bills Section -->
      <div class="card" style="border-color: #ffc107; background: #fffbf0;">
        <h3>ğŸ§¾ Pay Bills</h3>
        <p style="font-size: 18px; line-height: 1.6;">
          Pay your regular bills like electricity, water, phone, and town council fees.
        </p>
        <div class="summary">
          <strong>ğŸ›¡ï¸ Safety Tip:</strong> Only pay bills you recognize. 
          Check your physical bill or official app before paying.
        </div>
        <a class="btn btn-primary btn-lg" href="bills-elderly.html" aria-describedby="bills-help">
          Pay Bills â†’
        </a>
        <div id="bills-help" class="hint">
          ğŸ’¡ In Safe Mode: Only your regular bills are shown
        </div>
      </div>
    </div>

    <!-- Additional Services -->
    <div class="row grid">
      <div class="card">
        <h3>ğŸ“Š Check Balance & History</h3>
        <p>View your account balance and recent transactions.</p>
        <a class="btn btn-secondary btn-lg" href="account.html">
          View Account â†’
        </a>
      </div>

      <div class="card">
        <h3>ğŸ“ Learn About Scams</h3>
        <p>Learn how to protect yourself from common scams targeting seniors.</p>
        <button class="btn btn-secondary btn-lg" onclick="showScamEducation()">
          Learn More â†’
        </button>
      </div>
    </div>

    <!-- Emergency Actions -->
    <div class="card" style="background: #fef2f2; border-color: #dc3545;">
      <h3>ğŸ†˜ Emergency Actions</h3>
      <div class="row grid">
        <button class="btn btn-danger" onclick="reportScam()">
          ğŸš¨ Report Suspected Scam
        </button>
        <button class="btn btn-danger" onclick="freezeAccount()">
          â„ï¸ Freeze My Account
        </button>
      </div>
    </div>
  </main>

  <!-- Footer with Additional Help -->
  <footer class="footnotes" role="contentinfo">
    <div style="background: white; padding: 20px; border-radius: 12px; border: 2px solid var(--border);">
      <h4>ğŸ†˜ 24/7 Help Available</h4>
      <p><strong>ğŸ“ Call us anytime:</strong> 1800-EASYATM (1800-327-9286)</p>
      <p><strong>ğŸŒ Online Help:</strong> Press F1 or say "Help" for voice assistance</p>
      <p><strong>ğŸª Branch Locator:</strong> Visit any OCBC branch for in-person help</p>
      
      <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border);">
        <p style="font-size: 16px;"><strong>ğŸ¯ Designed for Everyone:</strong></p>
        <p>âœ… Large fonts for better readability</p>
        <p>âœ… High contrast colors</p>
        <p>âœ… Voice announcements</p>
        <p>âœ… Simple navigation</p>
        <p>âœ… Scam protection built-in</p>
      </div>
    </div>
  </footer>
</div>

<!-- Accessibility and Emergency Modals -->
<div id="help-modal" class="dialog" role="dialog" aria-hidden="true">
  <div class="modal">
    <h3>ğŸ†˜ Getting Help</h3>
    <div id="help-content"></div>
    <div class="actions">
      <button class="btn btn-primary" onclick="closeModal('help-modal')">Close</button>
    </div>
  </div>
</div>

<div id="scam-education-modal" class="dialog" role="dialog" aria-hidden="true">
  <div class="modal">
    <h3>ğŸ“ Protect Yourself from Scams</h3>
    <div id="scam-content">
      <h4>ğŸš¨ Common Scam Warning Signs:</h4>
      <ul style="text-align: left; font-size: 18px; line-height: 1.8;">
        <li>ğŸ—£ï¸ Someone calls claiming to be from bank/police asking for money</li>
        <li>â° Urgent requests to transfer money "immediately"</li>
        <li>ğŸ”’ Claims your account is "frozen" or "compromised"</li>
        <li>ğŸ’³ Requests for your PIN, password, or OTP numbers</li>
        <li>ğŸ’° Promises of loans, investments, or prizes requiring upfront payment</li>
      </ul>
      
      <h4>âœ… What to Do:</h4>
      <ul style="text-align: left; font-size: 18px; line-height: 1.8;">
        <li>ğŸ›‘ Never give personal information over the phone</li>
        <li>ğŸ“ Hang up and call the official number yourself</li>
        <li>ğŸ¤” Take time to think - legitimate requests are never urgent</li>
        <li>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ask a trusted family member or friend</li>
        <li>ğŸš¨ Report suspicious calls to 1800-722-6688</li>
      </ul>
    </div>
    <div class="actions">
      <button class="btn btn-primary btn-lg" onclick="closeModal('scam-education-modal')">
        I Understand
      </button>
    </div>
  </div>
</div>

<script src="app-elderly.js"></script>
<script>
// Enhanced elderly-specific functions
function playInstructions() {
  const instructions = `
    Welcome to EasyATM. Here's how to use this system safely:
    
    To send money: Click on Send Money, then choose a trusted contact in Safe Mode.
    To pay bills: Click on Pay Bills, then select your regular bills.
    
    Safe Mode is turned on by default to protect you from scams. 
    Only turn it off if you're an experienced user.
    
    If anyone calls asking you to transfer money, hang up immediately and call us at 1800 EASYATM.
    
    Use the Tab key to move between buttons, and Enter to select them.
    
    Remember: Take your time, and ask for help if you're unsure about anything.
  `;
  
  ttsSpeak(instructions, 'normal');
}

function callSupport() {
  const supportMsg = "Calling support now. Please have your account details ready.";
  ttsSpeak(supportMsg, 'normal');
  
  // In a real app, this would initiate a call
  if (confirm("ğŸ“ Call EasyATM Support at 1800-327-9286?")) {
    window.location.href = "tel:18003279286";
  }
}

function showKeyboardHelp() {
  const keyboardHelp = `
    <h4>âŒ¨ï¸ Keyboard Navigation:</h4>
    <ul style="text-align: left; font-size: 18px; line-height: 1.8;">
      <li><kbd>Tab</kbd> - Move to next button or field</li>
      <li><kbd>Shift + Tab</kbd> - Move to previous button or field</li>
      <li><kbd>Enter</kbd> or <kbd>Space</kbd> - Press the selected button</li>
      <li><kbd>Alt + S</kbd> - Toggle Safe Mode on/off</li>
      <li><kbd>Alt + H</kbd> - Get voice help</li>
      <li><kbd>F1</kbd> - Show this help</li>
      <li><kbd>Esc</kbd> - Cancel or go back</li>
    </ul>
    
    <h4>ğŸ”Š Voice Features:</h4>
    <ul style="text-align: left; font-size: 18px; line-height: 1.8;">
      <li>All buttons and messages are read aloud</li>
      <li>Warnings are announced with higher priority</li>
      <li>Say "Help" to get voice assistance (if supported by your browser)</li>
    </ul>
  `;
  
  showModal('help-modal', keyboardHelp);
  ttsSpeak("Keyboard help is now displayed on screen", 'normal');
}

function showScamEducation() {
  showModal('scam-education-modal');
  ttsSpeak("Showing scam education information. This will help you stay safe from fraudsters.", 'normal');
}

function reportScam() {
  const scamReport = `
    If you believe you've encountered a scam:
    
    1. Don't send any money or give any information
    2. Write down what happened
    3. Call the Anti-Scam Hotline: 1800-722-6688
    4. Report to police if money was lost: 999
    5. Contact your bank: 1800-OCBC (6222)
    
    Would you like to call the Anti-Scam Hotline now?
  `;
  
  ttsSpeak(scamReport, 'urgent');
  
  if (confirm("ğŸ“ Call Anti-Scam Hotline at 1800-722-6688?")) {
    window.location.href = "tel:18007226688";
  }
}

function freezeAccount() {
  const freezeWarning = `
    âš ï¸ EMERGENCY ACCOUNT FREEZE
    
    This will immediately stop all transactions on your account.
    Only use this if you believe your account is being misused.
    
    You will need to visit a branch or call support to unfreeze your account.
    
    Are you sure you want to freeze your account?
  `;
  
  ttsSpeak(freezeWarning, 'urgent');
  
  elderlyConfirm(freezeWarning, 'emergency').then((confirmed) => {
    if (confirmed) {
      // In a real app, this would freeze the account
      showElderlySuccess(
        "Your account has been frozen for security. Please call 1800-EASYATM or visit a branch to unfreeze it.",
        "callSupport()"
      );
    }
  });
}

function showModal(modalId, content = null) {
  const modal = document.getElementById(modalId);
  if (content) {
    const contentDiv = modal.querySelector('#help-content');
    if (contentDiv) contentDiv.innerHTML = content;
  }
  modal.classList.add('show');
  modal.setAttribute('aria-hidden', 'false');
  
  // Focus management
  const firstButton = modal.querySelector('button');
  if (firstButton) firstButton.focus();
}

function closeModal(modalId) {
  const modal = document.getElementById(modalId);
  modal.classList.remove('show');
  modal.setAttribute('aria-hidden', 'true');
}

// Enhanced keyboard shortcuts for elderly users
document.addEventListener('keydown', function(e) {
  switch(e.key) {
    case 'F1':
      e.preventDefault();
      showKeyboardHelp();
      break;
    case 'Escape':
      // Close any open modals
      document.querySelectorAll('.dialog.show').forEach(modal => {
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden', 'true');
      });
      break;
  }
  
  // Voice command simulation (for demo)
  if (e.key === 'h' && e.altKey) {
    e.preventDefault();
    playInstructions();
  }
});

// Page load enhancements
document.addEventListener('DOMContentLoaded', function() {
  // Ensure Safe Mode is on by default for elderly users
  const safeToggle = document.getElementById('safemode');
  if (safeToggle && !safeToggle.checked) {
    safeToggle.checked = true;
    safeToggle.dispatchEvent(new Event('change'));
  }
  
  // Add time-based greeting
  const hour = new Date().getHours();
  let greeting = "Good day";
  if (hour < 12) greeting = "Good morning";
  else if (hour < 18) greeting = "Good afternoon"; 
  else greeting = "Good evening";
  
  setTimeout(() => {
    ttsSpeak(`${greeting}! Welcome to EasyATM. Safe Mode is enabled to protect you from scams. Take your time and navigate safely.`, 'normal');
  }, 2000);
});

console.log("ğŸ¯ EasyATM Elderly-Optimized Interface Loaded Successfully!");
</script>
</body>
</html>