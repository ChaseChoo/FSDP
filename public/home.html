<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>OCBC ATM - Home</title>

<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script id="tailwind-config">
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        primary: "#ea2a33",
        "background-light": "#f8f6f6",
        "background-dark": "#211111",
      },
      fontFamily: { display: ["Public Sans", "sans-serif"] },
      borderRadius: { DEFAULT: "0.25rem", lg: "0.5rem", xl: "0.75rem", full: "9999px" },
    }
  }
}
</script>
<style type="text/tailwindcss">
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  font-size: 32px;
}
.page {
  display: none;
}
.page.active {
  display: block;
}
.transaction-card:hover { border-color: #ea2a33; transform: translateY(-2px); transition: all 0.2s ease; }
.chat-bubble-ai {
  @apply bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-2xl rounded-tl-none p-4 text-sm shadow-sm;
}
.chat-suggestion {
  @apply text-xs font-semibold text-primary bg-primary/5 border border-primary/20 px-3 py-2 rounded-full hover:bg-primary/10 transition-colors text-left w-full;
}
</style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-[#1b0e0e] dark:text-white min-h-screen flex flex-col">

<header class="w-full bg-white dark:bg-zinc-900 border-b border-[#f3e7e8] dark:border-zinc-800 px-6 lg:px-12 py-4 sticky top-0 z-50">
<div class="max-w-[1400px] mx-auto flex items-center justify-between">
<div class="flex items-center gap-3">
<img src="sources/logo_ocbc.png" alt="OCBC Logo" class="h-8">
</div>
<div class="flex items-center gap-3">
<button id="exitBtn" class="bg-primary text-white px-6 py-2 rounded-lg font-bold text-sm flex items-center gap-2 hover:bg-red-700 transition-colors">
<span class="material-symbols-outlined !text-lg">logout</span> Exit
</button>
</div>
</div>
</header>

<main class="flex-1 flex flex-row max-w-[1400px] mx-auto w-full px-6 py-8 gap-8 overflow-hidden">

<!-- Left: Main Sections -->
<div class="flex-1 flex flex-col overflow-y-auto pr-2">

<!-- Home Menu -->
<div id="mainMenu" class="page active">
<div class="mb-8">
<h1 class="text-3xl md:text-4xl font-extrabold mb-2 text-[#1b0e0e] dark:text-zinc-100" id="greeting">What would you like to do today?</h1>
<p class="text-zinc-500 dark:text-zinc-400 font-medium">Please select a transaction to continue</p>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-5 w-full h-[350px]">
<div class="col-span-1 flex flex-col gap-5">
<button id="btnCash" class="transaction-card group relative flex flex-col items-center justify-center p-6 bg-white dark:bg-zinc-900 rounded-xl border-2 border-transparent shadow-sm hover:shadow-xl flex-1">
<div class="bg-primary/10 group-hover:bg-primary/20 p-4 rounded-full mb-3 transition-colors">
<span class="material-symbols-outlined text-primary">payments</span>
</div>
<h3 class="text-lg font-bold mb-1">Get Cash</h3>
<p class="text-xs text-zinc-500 font-medium">Quick withdrawal</p>
</button>

<button id="btnDeposit" class="transaction-card group relative flex flex-col items-center justify-center p-6 bg-white dark:bg-zinc-900 rounded-xl border-2 border-transparent shadow-sm hover:shadow-xl flex-1">
<div class="bg-primary/10 group-hover:bg-primary/20 p-4 rounded-full mb-3 transition-colors">
<span class="material-symbols-outlined text-primary">account_balance</span>
</div>
<h3 class="text-lg font-bold mb-1">Deposit Cash</h3>
<p class="text-xs text-zinc-500 font-medium">Deposit funds</p>
</button>
</div>

<button id="btnNonCash" class="transaction-card group relative flex flex-col items-center justify-center p-6 bg-white dark:bg-zinc-900 rounded-xl border-2 border-transparent shadow-sm hover:shadow-xl col-span-1">
<div class="bg-primary/10 group-hover:bg-primary/20 p-4 rounded-full mb-3 transition-colors">
<span class="material-symbols-outlined text-primary">apps</span>
</div>
<h3 class="text-lg font-bold mb-1">Non-Cash Services</h3>
<p class="text-xs text-zinc-500 font-medium">Transfer, Bill Payment, Balance Inquiry, Card Services & More</p>
</button>
</div>

<!-- Favorite Bills Section -->
<div id="favoriteBillsSection" class="mt-8 hidden">
<div class="flex items-center justify-between mb-4">
<div>
<h2 class="text-xl font-bold text-[#1b0e0e] dark:text-zinc-100 flex items-center gap-2">
<span class="material-symbols-outlined text-primary !text-2xl">star</span>
Your Favorite Bills
</h2>
<p class="text-xs text-zinc-500 mt-1">Quick access to frequently paid merchants</p>
</div>
<button id="manageFavoritesBtn" class="text-xs text-primary hover:text-red-700 font-semibold underline">
Manage
</button>
</div>
<div id="favoriteBillsList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
<!-- Favorite bills will be dynamically added here -->
</div>
</div>
</div>

<!-- Deposit Section -->
<div id="depositPage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Deposit Cash</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>
<div class="mb-4">
<label for="depositAmount" class="block font-medium mb-1">Amount</label>
<input type="number" id="depositAmount" class="w-full p-2 border rounded-lg">
</div>
<button id="startInsert" class="bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700">Start Deposit</button>

<div id="countingBox" class="mt-4 p-4 bg-white dark:bg-zinc-800 border rounded-lg hidden">
<p id="countingText">Waiting for cash insertion...</p>
<div class="w-full bg-zinc-200 dark:bg-zinc-700 h-2 rounded-full mt-2 overflow-hidden">
<div id="countBar" class="bg-primary h-2 w-0"></div>
</div>
</div>
</div>

<!-- Get Cash Section -->
<div id="cashPage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Withdraw Cash</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>

<div class="denom-grid grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
<button data-amount="50" class="denom-btn bg-primary/10 hover:bg-primary/20 p-4 rounded-lg font-bold text-primary transition-colors">
S$50
</button>
<button data-amount="80" class="denom-btn bg-primary/10 hover:bg-primary/20 p-4 rounded-lg font-bold text-primary transition-colors">
S$80
</button>
<button data-amount="100" class="denom-btn bg-primary/10 hover:bg-primary/20 p-4 rounded-lg font-bold text-primary transition-colors">
S$100
</button>
<button data-amount="500" class="denom-btn bg-primary/10 hover:bg-primary/20 p-4 rounded-lg font-bold text-primary transition-colors">
S$500
</button>
</div>

<div class="custom-cash-row flex gap-3">
<div class="field-group flex-1">
<label class="block font-medium mb-1">Other amount</label>
<input id="cashOther" type="number" min="10" step="10" class="w-full p-2 border rounded-lg" placeholder="S$0.00">
</div>
<div class="custom-cash-actions flex gap-2 items-end">
<button id="cashOtherSet" class="btn-secondary bg-zinc-200 dark:bg-zinc-700 px-4 py-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-600 transition-colors">
Set
</button>
<button id="cashConfirm" class="btn-primary bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition-colors">
Confirm
</button>
</div>
</div>
</div>

<!-- Non-Cash Services Section -->
<div id="nonCashPage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Non-Cash Services</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>
<div class="quick-grid grid grid-cols-1 sm:grid-cols-2 gap-4">
<button id="btnBalance" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">receipt_long</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Balance Enquiry</p>
<p class="tile-sub text-xs text-zinc-500">Current Balance</p>
</div>
</button>

<button id="btnActivateCard" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">credit_card</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Activate Card</p>
<p class="tile-sub text-xs text-zinc-500">Set PIN and enable usage</p>
</div>
</button>

<button onclick="location.href='atm-qr-scanner.html'" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">qr_code_scanner</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Guardian QR Scanner</p>
<p class="tile-sub text-xs text-zinc-500">Scan Guardian QR Code</p>
</div>
</button>

<button id="btnTransfer" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">payments</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Transfer Funds</p>
<p class="tile-sub text-xs text-zinc-500">Immediate or non-immediate</p>
</div>
</button>

<button id="btnBankAppointment" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group" onclick="location.href='bank-appointment.html'">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">event</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Book Bank Appointment</p>
<p class="tile-sub text-xs text-zinc-500">Schedule a branch visit</p>
</div>
</button>

<button id="btnDigitalWallet" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group" onclick="window.location.href='/wallet-transfer'">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">smartphone</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Digital Wallet</p>
<p class="tile-sub text-xs text-zinc-500">Transfer to Alipay, GrabPay & more</p>
</div>
</button>

<button id="btnBillPayment" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">receipt</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Pay Bills</p>
<p class="tile-sub text-xs text-zinc-500">Scan and auto-fill payment details</p>
</div>
</button>

<!-- Scan Bill / Receipt (AI-powered) -->
<button id="btnScanBill" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group" aria-label="Scan Bill or Receipt">
  <div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
    <span class="material-symbols-outlined !text-xl text-primary">camera_alt</span>
  </div>
  <div class="text-left">
    <p class="tile-title font-bold text-sm text-primary">Scan Bill / Receipt</p>
    <p class="tile-sub text-xs text-zinc-500">Scan and auto-fill payment details</p>
  </div>
</button>

<button id="btnTransactions" class="tile-card flex items-center gap-4 bg-primary/5 border border-primary/20 p-4 rounded-xl hover:bg-primary/10 transition-all group">
<div class="bg-primary/20 p-2 rounded-lg group-hover:bg-primary/30">
<span class="material-symbols-outlined !text-xl text-primary">history</span>
</div>
<div class="text-left">
<p class="tile-title font-bold text-sm text-primary">Transaction History</p>
<p class="tile-sub text-xs text-zinc-500">View past deposits & withdrawals</p>
</div>
</button>
</div>
</div>

<!-- Balance Page -->
<div id="balancePage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Balance Enquiry</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>
<div class="balance-card bg-primary/10 border border-primary/20 p-8 rounded-xl">
<div class="balance-label flex items-center gap-3 mb-4">
<span class="material-symbols-outlined text-primary">savings</span>
<span class="font-medium">Current Balance</span>
</div>
<div id="balanceValue" class="balance-value text-4xl font-bold text-primary">
S$0.00
</div>
</div>
</div>

<!-- Activate Card Page -->
<div id="activatePage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Activate Card</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>
<div class="activate-grid space-y-4">
<div class="field-group">
<label class="block font-medium mb-1">Card last 4 digits</label>
<input type="text" maxlength="4" class="w-full p-2 border rounded-lg" placeholder="1234">
</div>
<div class="field-group">
<label class="block font-medium mb-1">OTP</label>
<input type="text" maxlength="6" class="w-full p-2 border rounded-lg" placeholder="123456">
</div>
</div>
<div class="page-actions mt-6">
<button id="activateConfirm" class="bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition-colors">
Confirm
</button>
</div>
</div>

<!-- Transfer Page -->
<div id="transferPage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Transfer Funds</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>
<div class="transfer-grid space-y-4">
<div class="field-group">
<label class="block font-medium mb-1">Amount</label>
<input id="transferAmount" type="number" class="w-full p-2 border rounded-lg" placeholder="S$0.00">
</div>
<div class="field-group">
<label class="block font-medium mb-1">To Account</label>
<input id="transferToAccount" type="text" class="w-full p-2 border rounded-lg" placeholder="123-456-789">
</div>
<div class="field-group">
<label class="block font-medium mb-1">Bank</label>
<input id="transferBank" type="text" class="w-full p-2 border rounded-lg" placeholder="Bank name">
</div>
<div class="field-group">
<label class="block font-medium mb-1">Payee Name</label>
<input id="transferPayee" type="text" class="w-full p-2 border rounded-lg" placeholder="Name">
</div>
<div class="field-group">
<label class="block font-medium mb-1">Payment mode</label>
<select id="tfMode" class="w-full p-2 border rounded-lg">
<option>Non-immediate transfer</option>
<option>Immediate transfer</option>
</select>
</div>
</div>
<div class="page-actions mt-6">
<button id="transferNext" class="bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition-colors">
Confirm
</button>
</div>
</div>

<!-- Transfer Confirm Page -->
<div id="transferConfirmPage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Transfer Confirmation</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>
<div class="confirm-box bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 p-6 rounded-lg">
<p class="confirm-text mb-6">Review details and send.</p>
<div class="space-y-2 text-left">
<p><strong>Method:</strong> <span id="confirmMethod">Bank Transfer</span></p>
<p><strong>Recipient:</strong> <span id="confirmRecipient">(loading)</span></p>
<p><strong>Amount (SGD):</strong> <span id="confirmAmount">(loading)</span></p>
</div>
</div>
<div class="page-actions mt-6">
<button id="transferSend" class="bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition-colors">
Send
</button>
</div>
</div>

<!-- Bill Payment Page -->
<div id="billPaymentPage" class="page hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-2xl font-bold">Pay Bills</h2>
<button class="backBtn text-primary hover:text-red-700 flex items-center gap-2 font-medium transition-colors">
<span class="material-symbols-outlined !text-lg">arrow_back</span>
Back
</button>
</div>
<div class="space-y-4">
<div class="field-group">
<label class="block font-medium mb-1">Biller</label>
<input id="billPaymentBiller" type="text" class="w-full p-2 border rounded-lg" placeholder="Enter biller name">
</div>
<div class="field-group">
<label class="block font-medium mb-1">Reference / Invoice No.</label>
<input id="billPaymentReference" type="text" class="w-full p-2 border rounded-lg" placeholder="From receipt or bill">
</div>
<div class="field-group">
<label class="block font-medium mb-1">Amount (SGD)</label>
<input id="billPaymentAmount" type="number" step="0.01" class="w-full p-2 border rounded-lg" placeholder="0.00">
</div>
</div>
<div class="page-actions mt-6">
<button id="billPaymentSubmit" class="bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition-colors">
Proceed to Payment
</button>
</div>
</div>

</div>

<!-- Right: AI Chat Assistant -->
<aside class="w-full max-w-[360px] flex flex-col bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl shadow-lg overflow-hidden shrink-0">
<div class="bg-primary p-5 flex items-center gap-3">
<div class="bg-white/20 p-2 rounded-lg">
<span class="material-symbols-outlined text-white !text-2xl">smart_toy</span>
</div>
<div>
<h3 class="text-white font-bold text-base leading-none">OCBC AI Assistant</h3>
<span class="text-white/70 text-xs font-medium">Online & Ready to Help</span>
</div>
</div>
<div class="flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-zinc-50 dark:bg-zinc-950/20" id="chatlog"></div>
<div class="p-4 border-t border-zinc-100 dark:border-zinc-800 bg-white dark:bg-zinc-900">
<div class="relative flex items-center">
<input id="userInput" class="w-full bg-zinc-100 dark:bg-zinc-800 border-none rounded-full py-3 px-5 pr-12 text-sm focus:ring-2 focus:ring-primary/50 transition-all dark:placeholder:text-zinc-500" placeholder="Type a message..." type="text"/>
<button id="sendBtn" class="absolute right-2 p-2 bg-primary text-white rounded-full hover:bg-red-700 transition-colors shadow-sm">
<span class="material-symbols-outlined !text-lg">send</span>
</button>
</div>
<p class="text-[10px] text-zinc-400 text-center mt-3 flex items-center justify-center gap-1">
<span class="material-symbols-outlined !text-[12px]">security</span>
Private & Secure Conversation
</p>
</div>
</aside>

</main>
<footer class="w-full py-6 mt-auto bg-zinc-100 dark:bg-zinc-950/50 px-6">
<div class="max-w-[1400px] mx-auto flex flex-col md:flex-row items-center justify-between gap-4 text-zinc-500 dark:text-zinc-500 text-xs font-medium">
<div class="flex items-center gap-2">
<span class="material-symbols-outlined !text-sm">security</span>
<span>Your session is secure and encrypted. Please do not share your PIN.</span>
</div>
<div class="flex gap-6">
<a class="hover:text-primary transition-colors" href="#">Privacy Policy</a>
<a class="hover:text-primary transition-colors" href="#">Terms of Use</a>
<span>Â© 2024 OCBC Bank</span>
</div>
</div>
</footer>

<!-- Tesseract OCR for client-side text recognition -->
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.1/dist/tesseract.min.js"></script>
<script src="scripts/bill-scanner.js"></script>
<script src="adaptive-ui.js"></script>
<script src="scripts/home.js"></script>
</body>
</html>
